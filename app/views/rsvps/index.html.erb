<p id="notice"><%= notice %></p>

<h1>Rsvps</h1>

<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Event</th>
      <th>Rsvp time</th>
      <th>Instrument</th>
      <th>Attending</th>
      <th>Reason</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @rsvps.each do |rsvp| %>
      <tr>
        <td><%= get_user_name(rsvp.user_id) %></td>
        <td><%= Event.where(id: rsvp.event_id).first.name %></td>
        <td><%= rsvp.rsvp_time %></td>
        <td><%= Instrument.where(id: rsvp.instrument_ids).pluck(:name) %></td>
        <td><%= rsvp.attending %></td>
        <td><%= rsvp.reason %></td>
        <td><%= link_to 'Show', rsvp %></td>
        <td><%= link_to 'Edit', edit_rsvp_path(rsvp) %></td>
        <td><%= link_to 'Destroy', rsvp, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Rsvp', new_rsvp_path %>
<br>
<%= link_to 'Back', root_url %>
